# ============================
# HERMES Enterprise Platform Integration
# ============================
# This file is for reference only - HERMES is now exclusively hosted
# For enterprise deployment, contact enterprise@parallax-ai.app
# Platform URL: https://hermes.parallax-ai.app

# ======================
# ENVIRONMENT CONFIGURATION
# ======================
ENVIRONMENT=production
DEBUG=false
DEMO_MODE=false

# Server Configuration
API_HOST=127.0.0.1
API_PORT=8000

# CORS Configuration (set explicit origins for production)
CORS_ALLOW_ORIGINS=https://app.yourlawfirm.com,https://admin.yourlawfirm.com

# ======================
# SECRETS MANAGEMENT
# ======================
# Provider: env, gcp, aws, azure, vault
SECRETS_PROVIDER=vault

# Secrets Audit Configuration
SECRETS_AUDIT_ENABLED=true
SECRETS_AUDIT_LOG_FILE=/var/log/hermes/secrets_audit.log

# Secrets Cache Configuration
SECRETS_ENCRYPT_CACHE=true
SECRETS_CACHE_ENCRYPTION_KEY=<base64-encoded-fernet-key>
SECRETS_MAX_CACHE_SIZE=1000
SECRETS_CACHE_TTL_SECONDS=300
SECRETS_VALIDATE_ON_ACCESS=true

# Secret Rotation Configuration (in hours)
SECRETS_ROTATION_INTERVAL_JWT_PRIVATE_KEY=168  # Weekly
SECRETS_ROTATION_INTERVAL_JWT_PUBLIC_KEY=168   # Weekly
SECRETS_ROTATION_INTERVAL_OPENAI_API_KEY=720   # Monthly

# ======================
# CLOUD SECRETS PROVIDERS
# ======================

# Google Cloud Secret Manager
GCP_PROJECT_ID=your-project-id
# Requires: gcloud auth application-default login or service account

# AWS Secrets Manager
# Requires: AWS credentials configured (IAM role, access keys, or instance profile)
AWS_REGION=us-east-1

# Azure Key Vault
AZURE_VAULT_URL=https://your-vault.vault.azure.net/
# Requires: Azure credentials (managed identity, service principal, or CLI)

# HashiCorp Vault
VAULT_URL=https://vault.yourlawfirm.com:8200
VAULT_TOKEN=<vault-token>
VAULT_MOUNT_POINT=secret

# ======================
# CORE APPLICATION SECRETS
# ======================

# OpenAI LLM Configuration
OPENAI_API_KEY=<openai-api-key>
OPENAI_MODEL=gpt-4

# Voice Processing Configuration
WHISPER_MODEL=base
WHISPER_DEVICE=cpu
KOKORO_API_URL=http://localhost:8001
KOKORO_VOICE=af_sarah

# Audio Configuration
SAMPLE_RATE=16000
CHUNK_SIZE=1024
MAX_AUDIO_LENGTH_SECONDS=30
RESPONSE_TIMEOUT=0.1

# Legal Compliance Configuration
CONFIDENCE_THRESHOLD=0.85
ENABLE_DISCLAIMERS=true
AUDIT_LOGGING=true

# ======================
# AUTHENTICATION & SECURITY
# ======================

# JWT Configuration (use secure key generation)
JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"
JWT_ALGORITHM=RS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ======================
# DATABASE & CACHING
# ======================

# Primary Database (PostgreSQL recommended for production)
DATABASE_URL=postgresql://username:password@hostname:5432/hermes_production

# Redis Cache (required for performance)
REDIS_URL=redis://redis.yourlawfirm.com:6379

# ======================
# LEGAL PRACTICE INTEGRATIONS
# ======================

# Clio Integration (OAuth Configuration)
CLIO_CLIENT_ID=<clio-client-id>
CLIO_CLIENT_SECRET=<clio-client-secret>
CLIO_REDIRECT_URI=https://app.yourlawfirm.com/oauth/clio/callback
CLIO_TOKEN_ENCRYPTION_KEY=<base64-fernet-key-for-token-encryption>

# Supabase Legal Data Platform
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=<supabase-anon-key>
SUPABASE_SERVICE_ROLE_KEY=<supabase-service-role-key>

# GitHub Integration (for document automation)
GITHUB_TOKEN=<github-personal-access-token>

# Memory Platform (Mem0 for client context)
MEM0_API_KEY=<mem0-api-key>

# ======================
# BUSINESS AUTOMATION
# ======================

# Zapier Webhooks for CRM Integration
ZAPIER_WEBHOOK_CLIENT_INTAKE=https://hooks.zapier.com/hooks/catch/...
ZAPIER_WEBHOOK_MATTER_UPDATE=https://hooks.zapier.com/hooks/catch/...
ZAPIER_WEBHOOK_APPOINTMENT_SCHEDULED=https://hooks.zapier.com/hooks/catch/...
ZAPIER_API_KEY=<zapier-api-key>

# ======================
# BILLING & PAYMENTS
# ======================

# Stripe Configuration (for subscription billing)
STRIPE_API_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_PRO=price_...
STRIPE_PRICE_ENTERPRISE=price_...
STRIPE_OVERAGE_PRICE=price_...
STRIPE_TRIAL_DAYS=14

# ======================
# MONITORING & COMPLIANCE
# ======================

# Audit Logging Configuration
AUDIT_LOG_LEVEL=INFO
AUDIT_LOG_FILE=/var/log/hermes/audit.log
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for legal compliance

# Performance Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Security Monitoring
SECURITY_LOG_LEVEL=WARNING
SECURITY_LOG_FILE=/var/log/hermes/security.log

# ======================
# PRODUCTION DEPLOYMENT
# ======================

# Health Check Configuration
HEALTH_CHECK_ENDPOINT=true
HEALTH_CHECK_INTERVAL=30

# TLS Configuration (handled by reverse proxy typically)
TLS_CERT_PATH=/etc/ssl/certs/hermes.crt
TLS_KEY_PATH=/etc/ssl/private/hermes.key

# Load Balancer Configuration
TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# ======================
# COMPLIANCE & GOVERNANCE
# ======================

# Data Retention Policies
DATA_RETENTION_DAYS=2555       # 7 years
CALL_RECORDING_RETENTION_DAYS=2555
AUDIT_RETENTION_DAYS=2555

# Privacy Configuration
GDPR_COMPLIANCE=true
HIPAA_COMPLIANCE=true
ATTORNEY_CLIENT_PRIVILEGE=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION=true

# ======================
# DISASTER RECOVERY
# ======================

# Failover Configuration
ENABLE_FAILOVER=true
PRIMARY_REGION=us-east-1
BACKUP_REGION=us-west-2

# Recovery Point Objective (minutes)
RPO_MINUTES=60

# Recovery Time Objective (minutes)
RTO_MINUTES=240

# ======================
# LEGAL FIRM CUSTOMIZATION
# ======================

# Firm Branding
FIRM_NAME="Your Law Firm"
FIRM_LOGO_URL=https://cdn.yourlawfirm.com/logo.png
FIRM_PRIMARY_COLOR=#003366
FIRM_SECONDARY_COLOR=#0066CC

# Jurisdictional Configuration
PRACTICE_JURISDICTION=NY
PRACTICE_AREAS=corporate,litigation,real-estate
COURT_SYSTEMS=state,federal

# Ethical Compliance
BAR_ASSOCIATION=NYSBA
ETHICS_RULES_VERSION=2023
CONFLICT_CHECK_ENABLED=true

# ======================
# INTEGRATION WEBHOOKS
# ======================

# Law Practice Management Systems
LPM_WEBHOOK_URL=https://webhook.yourlawfirm.com/lpm
CASE_MANAGEMENT_WEBHOOK=https://webhook.yourlawfirm.com/cases
TIME_TRACKING_WEBHOOK=https://webhook.yourlawfirm.com/time

# Document Management
DMS_INTEGRATION_URL=https://api.yourdms.com/v1
DMS_API_KEY=<dms-api-key>

# Calendar Integration
CALENDAR_WEBHOOK=https://webhook.yourlawfirm.com/calendar
SCHEDULING_INTEGRATION=calendly

# ======================
# NOTES FOR PRODUCTION DEPLOYMENT
# ======================

# 1. Use a dedicated secrets management service (Vault, AWS Secrets Manager, etc.)
# 2. Enable all audit logging and monitoring
# 3. Configure proper TLS termination at load balancer
# 4. Set up database backups and disaster recovery
# 5. Configure log aggregation and alerting
# 6. Implement network segmentation and firewalls
# 7. Regular security assessments and penetration testing
# 8. Employee training on data handling and security
# 9. Incident response procedures and contact information
# 10. Regular review and update of security policies

# For support and enterprise features:
# Contact: enterprise@parallax-ai.app
# Documentation: https://docs.hermes.parallax-ai.app