# ====================================================================
# HERMES Environment Configuration Template
# ====================================================================
# This is the single source of truth for HERMES configuration.
# Copy this file to .env and fill in your values.
#
# Security Warning: NEVER commit .env to git!
# For production: Use GCP Secret Manager (see docs/services/gcp-secret-manager-setup.md)
# ====================================================================

# ====================================================================
# APPLICATION SETTINGS
# ====================================================================

# Environment: development, staging, production
# Required: Yes | Default: development
ENVIRONMENT=development

# Enable debug mode (verbose logging, detailed errors)
# Required: Yes | Default: true for dev, false for prod
# Production: MUST be false
DEBUG=true

# Enable demo mode (allows unauthenticated access for testing)
# Required: Yes | Default: true for dev, false for prod
# Production: MUST be false
DEMO_MODE=true

# Server host and port
# Required: Yes | Default: 0.0.0.0:8000
API_HOST=0.0.0.0
API_PORT=8000

# Python path (for imports)
# Required: No | Default: /srv (GCP), current dir (local)
PYTHONPATH=/srv

# ====================================================================
# SECURITY & AUTHENTICATION
# ====================================================================

# JWT Authentication Keys (RSA 2048-bit)
# Required: Yes | Source: Generate with scripts/generate-secrets.sh
# Format: PEM format, base64-encoded with \n for newlines
# Production: Store in GCP Secret Manager
JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nYOUR_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----"

# JWT Algorithm (RS256 recommended for production)
# Required: Yes | Default: RS256
JWT_ALGORITHM=RS256

# Access token expiration (in minutes)
# Required: Yes | Default: 15
ACCESS_TOKEN_EXPIRE_MINUTES=15

# Refresh token expiration (in days)
# Required: Yes | Default: 7 for dev, 1 for prod
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Key Encryption Secret (Fernet key)
# Required: Yes | Source: Generate with scripts/generate-secrets.sh
# Format: Base64-encoded Fernet key
# Production: Store in GCP Secret Manager
API_KEY_ENCRYPTION_SECRET=your-fernet-key-here

# CORS Allowed Origins (comma-separated URLs)
# Required: Yes | Default: * for dev, explicit origins for prod
# Production: List exact domains
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:8000

# ====================================================================
# DATABASE CONFIGURATION
# ====================================================================

# Primary Database Connection (PostgreSQL via Supabase)
# Required: Yes | Source: Supabase dashboard → Settings → Database
# Format: postgresql://user:password@host:port/database
# Production: Store in GCP Secret Manager
DATABASE_URL=postgresql://postgres:password@your-project.supabase.co:5432/postgres

# Supabase Project URL
# Required: Yes | Source: Supabase dashboard → Settings → API
# Format: https://your-project.supabase.co
SUPABASE_URL=https://your-project.supabase.co

# Supabase Service Role Key (full access, server-side only)
# Required: Yes | Source: Supabase dashboard → Settings → API
# Format: Long JWT starting with eyJ...
# Production: Store in GCP Secret Manager, NEVER expose to client
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ====================================================================
# CACHE & PERFORMANCE (OPTIONAL)
# ====================================================================

# Redis Cache URL (for session storage, rate limiting, caching)
# Required: No (falls back to in-memory)
# Source: Redis Cloud, GCP Memorystore, or self-hosted
# Format: redis://host:port or rediss://host:port (with TLS)
# Production: Highly recommended for performance
# REDIS_URL=redis://localhost:6379

# Redis Max Connections
# Required: No | Default: 10
# REDIS_MAX_CONNECTIONS=10

# Redis Connection Timeout (seconds)
# Required: No | Default: 5
# REDIS_TIMEOUT=5

# ====================================================================
# AI SERVICES
# ====================================================================

# OpenAI API Key (for GPT-4 LLM and Whisper STT)
# Required: Yes | Source: https://platform.openai.com/api-keys
# Format: sk-...
# Production: Store in GCP Secret Manager
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Model (GPT-4 recommended for production)
# Required: Yes | Default: gpt-4
# Options: gpt-4, gpt-4-turbo, gpt-3.5-turbo
OPENAI_MODEL=gpt-4

# OpenAI Organization ID (if using organization account)
# Required: No
# OPENAI_ORG_ID=org-...

# OpenAI Max Tokens (per request)
# Required: No | Default: 1000
OPENAI_MAX_TOKENS=1000

# OpenAI Temperature (0.0-1.0, lower = more deterministic)
# Required: No | Default: 0.7
OPENAI_TEMPERATURE=0.7

# ====================================================================
# VOICE PROCESSING
# ====================================================================

# Whisper Model (for speech-to-text)
# Required: Yes | Default: base
# Options: tiny, base, small, medium, large
# Production: base or small for speed, large for accuracy
WHISPER_MODEL=base

# Whisper Device (cpu or cuda)
# Required: Yes | Default: cpu
# Production: cpu unless GPU available
WHISPER_DEVICE=cpu

# Kokoro TTS API URL (for text-to-speech)
# Required: No (optional, for voice responses)
# Format: http://host:port
# KOKORO_API_URL=http://localhost:8001

# Kokoro Voice Selection
# Required: No | Default: af_sarah
# Options: af_sarah, af_bella, am_adam, am_michael
# KOKORO_VOICE=af_sarah

# Audio Sample Rate (Hz)
# Required: Yes | Default: 16000
SAMPLE_RATE=16000

# Audio Chunk Size (bytes)
# Required: Yes | Default: 1024
CHUNK_SIZE=1024

# Max Audio Length (seconds)
# Required: Yes | Default: 30
MAX_AUDIO_LENGTH_SECONDS=30

# Response Timeout (seconds)
# Required: Yes | Default: 0.1
RESPONSE_TIMEOUT=0.1

# ====================================================================
# LEGAL COMPLIANCE
# ====================================================================

# AI Confidence Threshold (0.0-1.0)
# Required: Yes | Default: 0.85
# Production: 0.9 recommended for legal accuracy
CONFIDENCE_THRESHOLD=0.85

# Enable Legal Disclaimers (true/false)
# Required: Yes | Default: true
# Production: MUST be true for legal protection
ENABLE_DISCLAIMERS=true

# Enable Audit Logging (true/false)
# Required: Yes | Default: true
# Production: MUST be true for compliance
AUDIT_LOGGING=true

# ====================================================================
# BILLING & PAYMENTS (STRIPE)
# ====================================================================

# Stripe Secret API Key
# Required: Yes (if billing enabled) | Source: Stripe dashboard
# Format: sk_live_... (production) or sk_test_... (development)
# Production: Store in GCP Secret Manager
STRIPE_API_KEY=sk_test_your-stripe-secret-key-here

# Stripe Webhook Secret (for webhook signature verification)
# Required: Yes (if billing enabled) | Source: Stripe webhook settings
# Format: whsec_...
# Production: Store in GCP Secret Manager
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-signing-secret-here

# Stripe Price ID for Enterprise Plan
# Required: Yes (if billing enabled) | Source: Stripe Products
# Format: price_...
STRIPE_PRICE_ENTERPRISE=price_your-enterprise-plan-id-here

# Trial Period (days)
# Required: No | Default: 0
# Production: 0 for immediate billing
STRIPE_TRIAL_DAYS=0

# Enterprise Plan Price (monthly, in dollars)
# Required: Yes (if billing enabled) | Default: 2497
ENTERPRISE_PLAN_PRICE=2497

# Max Monthly Interactions (included in plan)
# Required: Yes (if billing enabled) | Default: 10000
MAX_MONTHLY_INTERACTIONS=10000

# Overage Price (per interaction)
# Required: Yes (if billing enabled) | Default: 0.25
OVERAGE_PRICE_PER_INTERACTION=0.25

# ====================================================================
# INTEGRATIONS - CLIO CRM
# ====================================================================

# Clio OAuth Client ID
# Required: No (if Clio integration needed) | Source: Clio App Console
# Format: alphanumeric string
# CLIO_CLIENT_ID=your-clio-client-id

# Clio OAuth Client Secret
# Required: No (if Clio integration needed) | Source: Clio App Console
# Format: alphanumeric string
# Production: Store in GCP Secret Manager
# CLIO_CLIENT_SECRET=your-clio-client-secret

# Clio OAuth Redirect URI
# Required: No (if Clio integration needed)
# Format: https://your-domain.com/api/integrations/clio/callback
# CLIO_REDIRECT_URI=https://hermes.parallax-ai.app/api/integrations/clio/callback

# Clio Token Encryption Key (Fernet key for storing OAuth tokens)
# Required: No (if Clio integration needed) | Source: Generate like API_KEY_ENCRYPTION_SECRET
# Production: Store in GCP Secret Manager
# CLIO_TOKEN_ENCRYPTION_KEY=your-fernet-key-here

# ====================================================================
# INTEGRATIONS - LAWPAY
# ====================================================================

# LawPay API Key
# Required: No (if LawPay integration needed) | Source: LawPay dashboard
# Production: Store in GCP Secret Manager
# LAWPAY_API_KEY=your-lawpay-api-key

# LawPay Environment (sandbox or production)
# Required: No | Default: sandbox
# LAWPAY_ENVIRONMENT=sandbox

# ====================================================================
# INTEGRATIONS - ZAPIER
# ====================================================================

# Zapier Webhook URL (for sending events)
# Required: No (if Zapier integration needed) | Source: Zapier Zap setup
# Format: https://hooks.zapier.com/hooks/catch/...
# ZAPIER_WEBHOOK_URL=https://hooks.zapier.com/hooks/catch/your-webhook-id

# ====================================================================
# MONITORING & OBSERVABILITY
# ====================================================================

# Prometheus Metrics Port
# Required: No | Default: 8000 (same as API)
PROMETHEUS_PORT=8000

# Prometheus Metrics Path
# Required: No | Default: /metrics
PROMETHEUS_METRICS_PATH=/metrics

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Required: Yes | Default: INFO
# Production: WARNING or ERROR
LOG_LEVEL=INFO

# Log Format (text or json)
# Required: Yes | Default: json for prod, text for dev
# Production: json for structured logging
LOG_FORMAT=text

# Google Cloud Logging (true/false)
# Required: No | Default: false
# Production: true if using GCP
# GCP_LOGGING_ENABLED=false

# ====================================================================
# GOOGLE CLOUD PLATFORM (PRODUCTION)
# ====================================================================

# GCP Project ID
# Required: Yes (if deploying to GCP) | Source: GCP Console
# Format: project-name-123456
# GCP_PROJECT_ID=hermes-legal-ai

# GCP Region
# Required: Yes (if deploying to GCP) | Default: us-central1
# Options: us-central1, us-east1, us-west1, europe-west1, asia-east1
# GCP_REGION=us-central1

# GCP Secrets Provider (env, gcp, aws, azure, vault)
# Required: No | Default: env for local, gcp for production
# Production: gcp
# SECRETS_PROVIDER=env

# ====================================================================
# ADVANCED SETTINGS (OPTIONAL)
# ====================================================================

# Max Workers (for async processing)
# Required: No | Default: 4
# Production: 2-4 per CPU core
# MAX_WORKERS=4

# Request Timeout (seconds)
# Required: No | Default: 30
# REQUEST_TIMEOUT=30

# Max Request Size (bytes)
# Required: No | Default: 10485760 (10MB)
# MAX_REQUEST_SIZE=10485760

# Rate Limiting (requests per minute per IP)
# Required: No | Default: 60
# RATE_LIMIT_PER_MINUTE=60

# ====================================================================
# DEVELOPMENT TOOLS (DEV ONLY)
# ====================================================================

# Hot Reload (for uvicorn --reload)
# Required: No | Default: true for dev, false for prod
# Production: MUST be false
# HOT_RELOAD=true

# Debug SQL Queries (true/false)
# Required: No | Default: false
# Production: MUST be false
# DEBUG_SQL=false

# Fake Data Seeding (true/false)
# Required: No | Default: false
# Production: MUST be false
# SEED_FAKE_DATA=false

# ====================================================================
# END OF CONFIGURATION
# ====================================================================

# Additional Notes:
# 1. Generate secrets: ./scripts/generate-secrets.sh
# 2. Service setup guides: docs/services/
# 3. Deployment guide: DEPLOYMENT.md
# 4. Security checklist: SECURITY.md
# 5. Cost estimation: COST_ESTIMATION.md
